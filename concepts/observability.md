# Observability in Distributed Systems


## Logging

- Logging is a method for tracking events and behaviors in a system.
- It works similarly to using print statements in programming languages like Java or C++.

- Components of a Log Line:
  - Timestamp: Records when the event occurred.
  - Event Level: Indicates the type or severity of the event (e.g., INFO, WARN, ERROR).
  - Event Details: Provides descriptive information about the event.
  - Code Reference: Specifies the line number in the code file where the log was generated.

    ![Alt text](/images/logs.png)


## Monitoring

- Monitoring is the process of tracking metrics—numerical values that represent various aspects of a system's performance—either manually or automatically.
- Examples of Metrics:
  - Memory Usage: How much memory is being utilized.
  - IO Operations: Number of input/output operations performed.
  - Business Metrics: Such as sales figures generated by the system.
  - User Metrics: e.g., the number of visitors on a webpage.
- Metrics are collected over time and often displayed in graphs or time series.
- Dashboards provide a visual representation to help operations teams quickly assess system performance.

- Operational Use:
  - Enables manual decision-making (e.g., adjusting the number of load balancers based on request volume).
  - Helps in responding proactively to performance trends or anomalies.

## Anomaly Detection

- To quickly identify unusual patterns or deviations (e.g., unexpected spikes or drops in metrics) before they escalate into larger issues.

- Anomaly detection is often managed by cloud solution providers for convenience and efficiency.

- Confidence Intervals:
  - A method that sets expected ranges based on historical data.
  - Limitation: May not adapt well to seasonal or cyclic metrics.

- Differentiation of Metrics:
  - Involves repeated differentiation of data points.
  - Advantage: Helps reveal anomalies such as spikes by amplifying deviations over multiple iterations.\

- Holt-Winters Algorithm:
  - A robust method that adjusts for both trends and seasonal variations.
  - Benefit: Effective in detecting anomalies in metrics that have inherent seasonal patterns

## Root Cause Analysis

Root cause analysis is the process of understanding what went wrong when a system experiences an anomaly, aiming to identify the underlying cause.

### Manual Approach

- Investigation Methods:
  - Involves analyzing log lines, metrics, and exploring potential causes.
- Techniques:
  - Five Whys:
    - A series of iterative questions designed to drill down to the root cause.
    - Provides detailed insights but can become challenging as complexity increases.
- Outcome:
  - Used to build a comprehensive incident report.

### Automated Approach

- Primary Focus:
  - Quickly identify the cause of an anomaly through data analysis.

- Methods:
  - Analyzes factors affecting a metric and isolates the primary contributor.
  - Utilizes mathematical algorithms such as:
    - Principal Component Analysis (PCA)
    - Spearman Coefficient
- Machine Learning & Outsourcing:
  - Some solutions use machine learning techniques or external services.
  - Example: Amazon SageMaker employing algorithms like isolation trees to detect anomalies.
- 